<!DOCTYPE html>
<html>
<head>
    <title>Shopping App</title>
    <style>
        body { font-family: Arial; margin: 20px; background-color: #f5f5f5; }
        h2 { color: #333; }
        .section { border: 1px solid #ccc; padding: 15px; margin-bottom: 20px; background: white; border-radius: 8px; }
        input, select, button { margin: 5px 0; padding: 5px; width: 100%; }
    </style>
</head>
<body>

    <h1>üõçÔ∏è Simple Shopping App</h1>

    <!-- Profile Section -->
    <div class="section">
        <form action="/create-profile" method="POST">
            <input type="text" name="username" placeholder="Enter Username">
            <input type="text" name="phone" placeholder="Phone Number">
            <input type="email" name="email" placeholder="Email ID">
            <input type="text" name="address" placeholder="Address">
            <button type="submit" class="btn btn-primary">Create Profile</button>
        </form>
    </div>

    <!-- Add Product Section -->
    <div class="section">
        <h2>üßæ Add Product</h2>
        <form action="/add-product" method="POST">
            <input type="text" name="prodId" placeholder="Product ID">
            <input type="text" name="prodName" placeholder="Product Name" required>
            <input type="number" name="prodPrice" placeholder="Price" required>
            <input type="text" name="prodCat" placeholder="Category" required>
            <input type="text" name="prodDesc" placeholder="Description">
            <input type="number" name="prodStock" placeholder="Stock" required>
            <label for="image_url">Image URL:</label>
            <input type="text" name="image_url" id="image_url" required>
            <button type="submit">Add Product</button>
        </form>
    </div>

    <!-- Product Display Section -->
    <div class="section">
        <h2>üõçÔ∏è Products</h2>
        <div style="display: flex; flex-wrap: wrap; gap: 15px;">
            {% for p in products %}
            <a href="/product/{{ p.id }}" style="text-decoration: none; color: inherit;">
                <div class="card" style="width: 18rem; border: 1px solid #ccc; border-radius: 8px; background: white; overflow: hidden;">
                    <img src="{{ p.image_url }}" class="card-img-top" alt="{{ p.name }}" style="width: 100%; height: 200px; object-fit: cover;">
                    <div class="card-body" style="padding: 10px;">
                        <h5 class="card-title">{{ p.name }}</h5>
                        <p class="card-text">‚Çπ{{ p.price }}</p>
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>

    <!-- Cart Section -->
    <div class="section">
        <h2>üõí Cart</h2>
        <p><strong>Total:</strong> ‚Çπ<span id="cartTotal">0</span></p>
        <button onclick="checkout()">Proceed to Payment</button>
    </div>

    <!-- Payment Section -->
    <div class="section">
        <h2>üí≥ Payment Method</h2>
        <select id="paymentOption">
            <option value="1">Debit Card</option>
            <option value="2">Credit Card</option>
            <option value="3">Cash on Delivery</option>
            <option value="4">Net Banking</option>
        </select>
        <button onclick="pay()">Pay Now</button>
    </div>

    <script>
        function createProfile() {
            alert("‚úÖ Profile Created! (Data sent to Python in full app)");
        }

        function addProduct() {
            let name = document.getElementById('prodName').value;
            let price = parseFloat(document.getElementById('prodPrice').value || 0);
            let total = parseFloat(document.getElementById('cartTotal').innerText);
            total += price;
            document.getElementById('cartTotal').innerText = total.toFixed(2);
            alert(`‚úîÔ∏è ${name} added to cart.`);
        }

        function checkout() {
            alert("üõí Proceeding to payment...");
        }

        function pay() {
            let option = document.getElementById('paymentOption').value;
            let method = ["Debit Card", "Credit Card", "Cash on Delivery", "Net Banking"];
            alert(`‚úÖ Payment initiated with ${method[option - 1]}.`);
        }
    </script>

</body>
</html>
