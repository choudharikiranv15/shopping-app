{% extends "layout.html" %}
{% block content %}

<div class="container py-5">
  {% if user %}
    <div class="card shadow p-4 mx-auto" style="max-width: 600px;">
      <h3 class="text-center mb-3 text-success">üë§ Your Profile</h3>

      <div class="text-center mb-3">
        {% if user.profile_pic_file %}
          <img src="{{ '/' + user.profile_pic_file }}" width="150" class="rounded-circle">
        {% elif user.profile_pic_url %}
          <img src="{{ user.profile_pic_url }}" width="150" class="rounded-circle">
        {% else %}
          <img src="{{ url_for('static', filename='images/default_user.png') }}" width="150" class="rounded-circle">
        {% endif %}
      </div>

      <ul class="list-group list-group-flush mb-3">
        <li class="list-group-item"><strong>Username:</strong> {{ user.username }}</li>
        <li class="list-group-item"><strong>Email:</strong> {{ user.email }}</li>
        <li class="list-group-item"><strong>Phone:</strong> {{ user.phone }}</li>
        <li class="list-group-item"><strong>Address:</strong> {{ user.address }}</li>
        <li class="list-group-item"><strong>Gender:</strong> {{ user.gender }}</li>
      </ul>

      <!-- Action buttons -->
      <div class="d-flex justify-content-between mt-3">
        <a href="{{ url_for('edit_profile') }}" class="btn btn-warning">‚úèÔ∏è Edit Profile</a>
        <a href="{{ url_for('logout') }}" class="btn btn-danger">üö™ Logout</a>
      </div>
    </div>

  {% else %}
    <!-- Profile creation form -->
    <div class="card shadow-lg p-4 mx-auto" style="max-width: 550px;">
      <h3 class="text-center mb-4 text-primary">üë§ Create Your Profile</h3>
      <form action="/create-profile" method="POST" enctype="multipart/form-data">
        <div class="mb-3">
          <input type="text" name="username" class="form-control" placeholder="Enter Username" required>
        </div>
        <div class="mb-3">
          <input type="text" name="phone" class="form-control" placeholder="Phone Number" required>
        </div>
        <div class="mb-3">
          <input type="email" name="email" class="form-control" placeholder="Email ID" required>
        </div>
        <div class="mb-3">
          <input type="text" name="address" class="form-control" placeholder="Address" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Gender:</label>
          <div class="d-flex gap-3">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="gender" value="Male" required>
              <label class="form-check-label">Male</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="gender" value="Female">
              <label class="form-check-label">Female</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="gender" value="Other">
              <label class="form-check-label">Other</label>
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Profile Picture URL (optional)</label>
          <input type="url" class="form-control" name="profile_pic_url">
        </div>
        <div class="mb-3">
          <label class="form-label">Or Upload Profile Picture</label>
          <input type="file" class="form-control" name="profile_pic_file" accept="image/*">
        </div>
        <button type="submit" class="btn btn-primary w-100">‚ú® Create Profile</button>
      </form>
    </div>
  {% endif %}
</div>

{% endblock %}
